<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>ðŸŽ¡ VÃ²ng quay Noel</title>
  <link rel="stylesheet" href="wheel.css">
</head>

<body>

<header class="header">
  <div class="logo">ðŸŽ¡ VÃ²ng quay random</div>
  <nav>
    <a href="index.html" class="nav-btn" style="margin-right: 10px; z-index: 9999;">â¬… Quay láº¡i</a>
  </nav>
</header>

<div class="container">

  <h1>VÃ²ng quay quyáº¿t Ä‘á»‹nh ðŸŽ„</h1>

  <textarea id="input" placeholder="Má»—i dÃ²ng lÃ  1 lá»±a chá»n nha em bÃ©..."></textarea>

  <!-- VÃ’NG QUAY -->
  <div class="wheel-wrapper">
    <div class="pointer">â–¼</div>
    <div id="wheel" class="wheel"></div>
  </div>

  <button id="spinBtn">ðŸŽ¡ QUAY</button>

  <div id="result"></div>
</div>

<script>
  const wheel = document.getElementById("wheel");
  const spinBtn = document.getElementById("spinBtn");
  const result = document.getElementById("result");

  let currentRotation = 0;

  function buildWheel(items) {
  wheel.innerHTML = "";
  const angle = 360 / items.length;

  items.forEach((item, i) => {
    const slice = document.createElement("div");
    slice.className = "slice";
    slice.style.transform = `rotate(${i * angle}deg)`;

    const label = document.createElement("div");
    label.className = "label";
    label.innerText = item;

    slice.appendChild(label);
    wheel.appendChild(slice);
  });
}

  spinBtn.onclick = function () {
    const raw = document.getElementById("input").value.trim();
    if (!raw) {
      alert("Nháº­p lá»±a chá»n trÆ°á»›c Ä‘i nÃ¨ ðŸ˜­");
      return;
    }

    const items = raw
      .split("\n")
      .map(i => i.trim())
      .filter(i => i);

    buildWheel(items);

    const spin = 360 * 6 + Math.floor(Math.random() * 360);
    currentRotation += spin;
    wheel.style.transform = `rotate(${currentRotation}deg)`;

    const index = Math.floor(
      (360 - (currentRotation % 360)) / (360 / items.length)
    ) % items.length;

    setTimeout(() => {
      result.innerHTML = `
        ðŸ’– Káº¿t quáº£ lÃ :
        <br><br>
        ðŸŽ‰ <strong>${items[index]}</strong> ðŸŽ‰
      `;
    }, 4200);
  };
</script>



</body>
</html>
